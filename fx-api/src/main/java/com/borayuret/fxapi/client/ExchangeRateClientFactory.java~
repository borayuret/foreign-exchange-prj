package com.borayuret.fxapi.client;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class ExchangeRateClientFactory {

    private final FixerExchangeRateClient fixerExchangeRateClient;
    private final CurrencyLayerExchangeRateClient currencyLayerExchangeRateClient;

    @Autowired
    public ExchangeRateClientFactory(FixerExchangeRateClient fixerExchangeRateClient,
                                     CurrencyLayerExchangeRateClient currencyLayerExchangeRateClient) {
        this.fixerExchangeRateClient = fixerExchangeRateClient;
        this.currencyLayerExchangeRateClient = currencyLayerExchangeRateClient;
    }

    public static ExchangeRateClient getClient(String provider) {
        if ("currencylayer".equalsIgnoreCase(provider)) {
            return new CurrencyLayerExchangeRateClient(); // Create and return CurrencyLayerExchangeRateClient
        }
        return new FixerExchangeRateClient(); // Default to FixerExchangeRateClient
    }
}
